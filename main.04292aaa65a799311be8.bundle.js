!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var n=function(){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t(this,"gameDifficulty",null),t(this,"soundLevel",null),t(this,"language",null),t(this,"userName",null),t(this,"auth",null)}var a,i,r;return a=n,(i=[{key:"getUserName",value:function(){return this.userName}},{key:"setUserName",value:function(e){this.userName=e}},{key:"getAuth",value:function(){return this.auth}},{key:"setAuth",value:function(e){this.auth=e}},{key:"getGameDifficulty",value:function(){return this.gameDifficulty}},{key:"setGameDifficulty",value:function(e){var t=e;t<0&&(t=n.GameDifficulty.easy),t>3&&(t=n.GameDifficulty.nightmare),this.gameDifficulty=t}},{key:"getSoundLevel",value:function(){return this.soundLevel}},{key:"setSoundLevel",value:function(e){var t=e;t<0&&(t=0),t>100&&(t=100),this.soundLevel=t}},{key:"getLanguage",value:function(){return this.language}},{key:"setLanguage",value:function(e){var t=e;"eng"===e&&"ru"===e||(t="eng"),this.language=t}},{key:"toJSON",value:function(){return JSON.stringify({gameDifficulty:this.gameDifficulty,soundLevel:this.soundLevel,language:this.language})}},{key:"fromJsonObj",value:function(e){this.gameDifficulty=e.gameDifficulty,this.soundLevel=e.soundLevel,this.language=e.language}}])&&e(a.prototype,i),r&&e(a,r),Object.defineProperty(a,"prototype",{writable:!1}),n}();function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t(n,"GameDifficulty",{easy:0,normal:1,hard:2,nightmare:3});var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"setCurrentPath",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.path=t,window.location.hash=t,e.callbacksArray.forEach((function(e){e(t,n)}))}},{key:"getCurrentPath",value:function(){return e.path}},{key:"getRealCurrentPath",value:function(){return window.location.hash.slice(1)}},{key:"addPathChangeListener",value:function(t){e.callbacksArray.push(t)}}],(n=null)&&a(t.prototype,n),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}i(r,"data",{}),i(r,"path",null),i(r,"callbacksArray",[]);var s=function(){function e(){var t,n,a,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a=[],(n="routes")in(t=this)?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,window.addEventListener("hashchange",(function(){window.location.hash.slice(1)!==r.getCurrentPath()&&r.setCurrentPath(window.location.hash.slice(1))}),!1),r.addPathChangeListener((function(e,t){i.resolve(e,t)}))}var t,n,a;return t=e,(n=[{key:"resolve",value:function(e,t){this.routes.forEach((function(n){n.path==="/".concat(e.split("/")[1])&&n.controller.resolve(e.replace(n.path,""),t)}))}},{key:"addRoute",value:function(e,t){this.routes.push({path:e,controller:t})}}])&&o(t.prototype,n),a&&o(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.isHidden=!1,this.rootEl=document.createElement("div"),this.rootEl.classList.add("sidebar"),this.sidebarContainer=document.createElement("div"),this.sidebarContainer.classList.add("sidebar__container"),this.buttonClose=document.createElement("div"),this.buttonClose.classList.add("button-close"),this.sidebarVerticalSeparator=document.createElement("div"),this.sidebarVerticalSeparator.classList.add("sidebar__vertical-separator"),this.mainMenuList=document.createElement("div"),this.mainMenuList.classList.add("main-menu__list"),this.fastLangSwitch=document.createElement("div"),this.fastLangSwitch.classList.add("main-menu__fast-lang-sw","fast-lang-sw"),this.rootEl.append(this.sidebarContainer)}var t,n,a;return t=e,(n=[{key:"setData",value:function(e){var t=this;this.data=e,this.sidebarContainer.innerHTML="",this.mainMenu=document.createElement("div"),this.mainMenu.classList.add("sidebar__main-menu","main-menu"),this.mainMenuList.innerHTML="",this.data.menu.forEach((function(e){var n=document.createElement("button");n.classList.add("main-menu__list-button"),n.textContent=e.text,n.onclick=e.action,t.mainMenuList.append(n)})),this.sidebarVerticalSeparator.innerHTML="";var n=document.createElement("span");n.innerText=this.data.separatorText;for(var a=0;a<10;a+=1)this.sidebarVerticalSeparator.append(n.cloneNode(!0));this.fastLangSwitch.innerHTML="",this.data.fastLangSw.forEach((function(e){var n=document.createElement("button");n.classList.add("fast-lang-sw__lang-button"),n.textContent=e.text,n.onclick=e.action,t.fastLangSwitch.append(n)})),this.mainMenu.append(this.buttonClose),this.mainMenu.append(this.mainMenuList),this.mainMenu.append(this.fastLangSwitch),this.sidebarContainer.appendChild(this.sidebarVerticalSeparator),this.sidebarContainer.appendChild(this.mainMenu)}},{key:"render",value:function(){return this.rootEl}},{key:"hide",value:function(){this.rootEl.classList.add("sidebar_hidden"),this.isHidden=!0}},{key:"show",value:function(){this.rootEl.classList.remove("sidebar_hidden"),this.isHidden=!1}}])&&l(t.prototype,n),a&&l(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dataPlaceholder={title:"Art-Quiz.",isSmall:!1},this.rootEl=document.createElement("div"),this.rootEl.classList.add("top-bar"),this.menuButton=document.createElement("div"),this.menuButton.classList.add("burger-menu"),this.title=document.createElement("div"),this.title.classList.add("top-bar__title"),this.rootEl.appendChild(this.menuButton),this.rootEl.appendChild(this.title)}var t,n,a;return t=e,(n=[{key:"setData",value:function(e){e&&Object.keys(e).length>=1?this.data=e:this.data=this.dataPlaceholder,this.title.textContent=this.data.title,this.data.isSmall&&this.rootEl.classList.add("top-bar_s")}},{key:"render",value:function(){return this.rootEl}}])&&c(t.prototype,n),a&&c(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function h(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"getLocale",value:function(t){return e.locales[e.currentLocale][t]}}],(n=null)&&h(t.prototype,n),a&&h(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}f(p,"currentLocale",0),f(p,"locales",[{localeName:"eng",title:"ArtQuiz",levelTitle:"Level",settingsTitle:"Settings",levelsTitle:"Levels",scoreTitle:"Score",aboutTitle:"About",sidebarMotto:"CREATE TEST DEPLOY BE SMART",levelLockedTitle:"Locked",levelStatsTitle:"Done",gamePaused:"Paused",gameQuestionType1:"Who wrote this picture?",gameQuestionType2:"Which one is written by",gameSelectTitle:"Select",gameCancelTitle:"Cancel",gameAnswerCorrect:"Correct",gameAnswerIncorrect:"Incorrect",gameNextButtonTitle:"Next",gamePictureNameTitle:"This is:",gameMadeByTitle:"Made by:",gameYearTitle:"Year of creation:"},{localeName:"ru",title:"ArtQuiz",levelTitle:"Уровень",settingsTitle:"Настройки",levelsTitle:"Уровни",scoreTitle:"Счёт",aboutTitle:"О игре",sidebarMotto:"СОЗДАВАЙ ТЕСТИРУЙ РАЗВОРАЧИВАЙ БУДЬ УМЁН",levelLockedTitle:"Заблокировано",levelStatsTitle:"Отвечено",gamePaused:"Пауза",gameQuestionType1:"Кто написал эту картину?",gameQuestionType2:"Какую из картин написал автор",gameSelectTitle:"Выбрать",gameCancelTitle:"Отмена",gameAnswerCorrect:"Правильно",gameAnswerIncorrect:"Неправильно",gameNextButtonTitle:"Далее",gamePictureNameTitle:"Картина называется:",gameMadeByTitle:"Написана автором:",gameYearTitle:"Год создания:"}]);var m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dataPlaceholder={id:-1,imgSrc:"static/img/jpg/square/0.jpg",isLocked:!1,text:""},this.rootEl=document.createElement("div"),this.rootEl.classList.add("level-card"),this.rootEl.classList.add("level-list__card"),this.imageContainer=document.createElement("div"),this.imageContainer.classList.add("level-card__image"),this.imageEl=document.createElement("img"),this.imageContainer.append(this.imageEl),this.levelText=document.createElement("div"),this.levelText.classList.add("level-card__text"),this.levelTitle=document.createElement("div"),this.levelTitle.classList.add("level-card__level-name"),this.levelStats=document.createElement("div"),this.levelStats.classList.add("level-card__level-stats"),this.levelText.append(this.levelTitle),this.levelText.append(this.levelStats),this.rootEl.append(this.imageContainer),this.rootEl.append(this.levelText),this.setData(t)}var t,n,a;return t=e,(n=[{key:"setData",value:function(e){e&&Object.keys(e).length>=1&&(this.data=e,this.imageEl.src=this.data.getImageSrc(),this.imageEl.alt="".concat(p.getLocale("levelTitle")," ").concat(this.data.getId()),this.levelTitle.textContent="".concat(p.getLocale("levelTitle")," ").concat(this.data.getId()),this.levelStats.textContent=this.data.getIsLocked()?p.getLocale("levelLockedTitle"):"".concat(p.getLocale("levelStatsTitle")," ").concat(this.data.getQuestionsAnsweredNumber(),"/").concat(this.data.getQuestionsNumber()),this.data.getIsLocked()&&this.rootEl.classList.add("level-card_locked"))}},{key:"render",value:function(){return this.rootEl}}])&&v(t.prototype,n),a&&v(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function g(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rootEl=document.createElement("div"),this.rootEl.classList.add("level-list"),this.levelsList=[]}var t,n,a;return t=e,(n=[{key:"setData",value:function(e){var t=this;e&&(this.levelsList=[],this.rootEl.innerHTML="",e.levelsList.forEach((function(e){var n=new m;n.setData(e),t.levelsList.push(n),e.getIsLocked()||(n.render().onclick=function(){r.setCurrentPath("/game/level/".concat(e.getId()))}),t.rootEl.append(n.render())})))}},{key:"render",value:function(){return this.rootEl}}])&&g(t.prototype,n),a&&g(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rootEl=document.createElement("div"),this.rootEl.classList.add("score-list"),this.rootEl.innerText="Score"}var t,n,a;return t=e,(n=[{key:"render",value:function(){return this.rootEl}}])&&b(t.prototype,n),a&&b(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function E(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var L=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rootEl=document.createElement("div"),this.rootEl.classList.add("settings"),this.rootEl.innerText="Settings"}var t,n,a;return t=e,(n=[{key:"render",value:function(){return this.rootEl}}])&&E(t.prototype,n),a&&E(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function k(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var T=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rootEl=document.createElement("div"),this.rootEl.classList.add("about"),this.rootEl.innerText="About"}var t,n,a;return t=e,(n=[{key:"render",value:function(){return this.rootEl}}])&&k(t.prototype,n),a&&k(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function P(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var C=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rootEl=document.createElement("div"),this.rootEl.classList.add("loading"),this.rootEl.innerText="Loading..."}var t,n,a;return t=e,(n=[{key:"render",value:function(){return this.rootEl}}])&&P(t.prototype,n),a&&P(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function I(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"getDefaultStaticSquareImagesPath",value:function(){return e.defaultStaticSquareImagesPath}},{key:"getDefaultStaticFullImagesPath",value:function(){return e.defaultStaticFullImagesPath}},{key:"getDefaultStaticJsonSrcPath",value:function(){return e.defaultStaticJsonSrcPath}},{key:"getQuestionsPerLevel",value:function(){return e.questionsPerLevel}}],(n=null)&&I(t.prototype,n),a&&I(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}S(q,"questionsPerLevel",10),S(q,"defaultStaticSquareImagesPath","static/img/jpg/square/"),S(q,"defaultStaticFullImagesPath","static/img/jpg/full/"),S(q,"defaultStaticJsonSrcPath","static/json/imagesTranslated.json");var D=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"getData",value:function(){var t=localStorage.getItem(e.localStorageItemName);if(e.isNotEmpty()){var n=JSON.parse(t);return Object.keys(n).length>0?n:null}var a=e.generateData();return e.setData(a),a}},{key:"destroy",value:function(){localStorage.removeItem(e.localStorageItemName)}},{key:"isNotEmpty",value:function(){var t=localStorage.getItem(e.localStorageItemName);return t&&"{"===t[0]}},{key:"setData",value:function(t){localStorage.setItem(e.localStorageItemName,JSON.stringify(t))}},{key:"generateData",value:function(){var t=function(e,t){var n=Math.ceil(e),a=Math.floor(t);return Math.floor(Math.random()*(a-n+1))+n};localStorage.removeItem(e.localStorageItemName);var n=0,a=0,i=0,r=1,o=q.getDefaultStaticSquareImagesPath(),s=q.getQuestionsPerLevel(),l={settings:{},gameDB:{level:[],question:[],answer:[],userAnswer:[]}};return e.srcData.data.forEach((function(e,u,c){u%s==0&&(u>=s&&(n+=1),l.gameDB.level.push({id:n,imageSrc:"".concat(o).concat(e.imageId,".jpg"),isLocked:n>=2,text:""})),l.gameDB.question.push({id:a,levelId:n,number:r,questionType:t(1,2),correctAnswerId:i,imageSrc:"".concat(o).concat(e.imageId,".jpg"),text:""}),l.gameDB.answer.push({id:i,questionId:a,imageSrc:"".concat(o).concat(e.imageId,".jpg"),text:"",name:e.name,author:e.author,year:e.year}),i+=1;for(var d=[],h=[],f=function(e){for(var n=t(0,c.length-1);-1!==h.findIndex((function(e){return e===n}));)n=t(0,c.length-1);h.push(n),d.push({id:i,questionId:a,imageSrc:"".concat(o).concat(c[n].imageId,".jpg"),text:"",name:c[n].name,author:c[n].author,year:c[n].year}),i+=1},p=0;p<3;p+=1)f();d.forEach((function(e){return l.gameDB.answer.push(e)})),a+=1,r=r<s?r+=1:1})),l}}],(n=null)&&_(t.prototype,n),a&&_(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function A(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}j(D,"localStorageItemName","art-quiz-game-data"),j(D,"srcData",null);var x=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),O(this,"id",-1),O(this,"imageSrc",null),O(this,"text",null),O(this,"isLocked",!0),O(this,"questions",null),this.id=t}var t,n,a;return t=e,(n=[{key:"getImageSrc",value:function(){return this.imageSrc}},{key:"setImageSrc",value:function(e){this.imageSrc=e}},{key:"getId",value:function(){return this.id}},{key:"getQuestions",value:function(){return this.questions}},{key:"setQuestions",value:function(e){this.questions=e}},{key:"getText",value:function(){return this.text}},{key:"setText",value:function(e){this.text=e}},{key:"getIsLocked",value:function(){return this.isLocked}},{key:"setIsLocked",value:function(e){this.isLocked=e}},{key:"getQuestionsNumber",value:function(){return this.questions.length}},{key:"getQuestionsAnsweredNumber",value:function(){return this.questions.filter((function(e){return null!==e.userAnswer})).length}}])&&A(t.prototype,n),a&&A(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function N(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),B(this,"id",-1),B(this,"levelId",-1),B(this,"number",void 0),B(this,"questionType",null),B(this,"answers",null),B(this,"correctAnswerId",-1),B(this,"userAnswer",null),B(this,"imageSrc",null),B(this,"text",null),this.id=t,this.levelId=n}var t,n,a;return t=e,(n=[{key:"getLevelId",value:function(){return this.levelId}},{key:"setLevelId",value:function(e){this.levelId=e}},{key:"getId",value:function(){return this.id}},{key:"getNumber",value:function(){return this.number}},{key:"setNumber",value:function(e){this.number=e}},{key:"getImageSrc",value:function(){return this.imageSrc}},{key:"setImageSrc",value:function(e){this.imageSrc=e}},{key:"getText",value:function(){return this.text}},{key:"setText",value:function(e){this.text=e}},{key:"getQuestionType",value:function(){return this.questionType}},{key:"setQuestionType",value:function(e){this.questionType=e}},{key:"getAnswers",value:function(){return this.answers}},{key:"setAnswers",value:function(e){this.answers=e}},{key:"getCorrectAnswerId",value:function(){return this.correctAnswerId}},{key:"setCorrectAnswerId",value:function(e){this.correctAnswerId=e}},{key:"getUserAnswer",value:function(){return this.userAnswer}},{key:"setUserAnswer",value:function(e){this.userAnswer=e}},{key:"isUserAnswerCorrect",value:function(){return this.userAnswer.answerId&&this.userAnswer.answerId===this.correctAnswerId}}])&&N(t.prototype,n),a&&N(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function M(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}B(Q,"QuestionTypes",{WhoIs:1,WhichIs:2});var H=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),V(this,"id",-1),V(this,"questionId",-1),V(this,"imageSrc",null),V(this,"author",null),V(this,"name",null),V(this,"year",null),this.id=t}var t,n,a;return t=e,(n=[{key:"getQuestionId",value:function(){return this.questionId}},{key:"setQuestionId",value:function(e){this.questionId=e}},{key:"getId",value:function(){return this.id}},{key:"getImageSrc",value:function(){return this.imageSrc}},{key:"setImageSrc",value:function(e){this.imageSrc=e}},{key:"getAuthor",value:function(){return this.author}},{key:"setAuthor",value:function(e){this.author=e}},{key:"getName",value:function(){return this.name}},{key:"setName",value:function(e){this.name=e}},{key:"getYear",value:function(){return this.year}},{key:"setYear",value:function(e){this.year=e}}])&&M(t.prototype,n),a&&M(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function J(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var R=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"dataToModel",value:function(e){var t=new H(e.id);return t.setQuestionId(e.questionId),t.setImageSrc(e.imageSrc),t.setName(e.name),t.setAuthor(e.author),t.setYear(e.year),t}},{key:"getAllByQuestionId",value:function(t){return D.getData().gameDB.answer.filter((function(e){return e.questionId===t})).map((function(t){return e.dataToModel(t)}))}}],(n=null)&&J(t.prototype,n),a&&J(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function U(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Y(this,"id",-1),Y(this,"answerId",-1),Y(this,"questionId",-1),Y(this,"thinkingTime",null),Y(this,"answerDate",null),this.id=t}var t,n,a;return t=e,(n=[{key:"getId",value:function(){return this.id}},{key:"getQuestionId",value:function(){return this.questionId}},{key:"setQuestionId",value:function(e){this.questionId=e}},{key:"getAnswerId",value:function(){return this.answerId}},{key:"setAnswerId",value:function(e){this.answerId=e}},{key:"getAnswerDate",value:function(){return this.answerDate}},{key:"setAnswerDate",value:function(e){this.answerDate=e}},{key:"getThinkingTime",value:function(){return this.thinkingTime}},{key:"setThinkingTime",value:function(e){this.thinkingTime=e}}])&&U(t.prototype,n),a&&U(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function G(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"dataToModel",value:function(e){var t=new W(e.id);return t.setAnswerId(e.answerId),t.setQuestionId(e.questionId),t.setThinkingTime(e.thinkingTime),t.setAnswerDate(e.answerDate),t}},{key:"getByQuestionId",value:function(t){var n=D.getData().gameDB.userAnswer.filter((function(e){return e.questionId===t})),a=null;return n&&n.length>0&&(a=n.map((function(t){return e.dataToModel(t)}))),a}}],(n=null)&&G(t.prototype,n),a&&G(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function F(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var $=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"dataToModel",value:function(e){var t=new Q(e.id),n=R.getAllByQuestionId(e.id);return t.setNumber(e.number),t.setLevelId(e.levelId),t.setQuestionType(e.questionType),t.setCorrectAnswerId(e.correctAnswerId),t.setImageSrc(e.imageSrc),t.setText(e.text),t.setAnswers(n),t.setUserAnswer(z.getByQuestionId(e.id)),t}},{key:"getAllByLevelId",value:function(t){return D.getData().gameDB.question.filter((function(e){return e.levelId===t})).map((function(t){return e.dataToModel(t)}))}}],(n=null)&&F(t.prototype,n),a&&F(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function K(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var X=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"dataToModel",value:function(e){var t=new x(e.id),n=$.getAllByLevelId(e.id);return t.setImageSrc(e.imageSrc),t.setText(e.text),t.setIsLocked(e.isLocked),t.setQuestions(n),t}},{key:"getAll",value:function(){return D.getData().gameDB.level.map((function(t){return e.dataToModel(t)}))}},{key:"getById",value:function(t){var n=null,a=null;return(n=D.getData().gameDB.level.filter((function(e){return e.id===parseInt(t,10)})))&&n.length>0&&(a=n.map((function(t){return e.dataToModel(t)}))[0]),a}}],(n=null)&&K(t.prototype,n),a&&K(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Z(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var ee=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parentElement=t,this.rootEl=document.createElement("div"),this.rootEl.classList.add("container"),this.sidebar=new u,this.generateSidebarData(),this.page=document.createElement("div"),this.page.classList.add("main-page"),this.topBar=new d,this.topBar.setData({title:"".concat(p.getLocale("levelsTitle"),".")}),this.topBarEl=this.topBar.render(),this.levelsListView=new y,this.scoreView=new w,this.settingsView=new L,this.aboutView=new T,this.loadingView=new C,this.currentView=this.loadingView.render(),this.page.append(this.topBarEl),this.page.append(this.currentView),this.rootEl.append(this.sidebar.render()),this.sidebar.hide(),this.rootEl.append(this.page),this.sidebar.buttonClose.onclick=function(){n.sidebar.hide()},this.topBar.menuButton.onclick=function(){n.sidebar.show()}}var t,n,a;return t=e,(n=[{key:"generateSidebarData",value:function(){var e={separatorText:p.getLocale("sidebarMotto"),menu:[{text:p.getLocale("levelsTitle"),action:function(){r.setCurrentPath("/main/levels")}},{text:p.getLocale("scoreTitle"),action:function(){r.setCurrentPath("/main/score")}},{text:p.getLocale("settingsTitle"),action:function(){return r.setCurrentPath("/main/settings")}},{text:p.getLocale("aboutTitle"),action:function(){return r.setCurrentPath("/main/about")}}],fastLangSw:[{text:"eng",action:function(){p.currentLocale=0,r.setCurrentPath(r.getCurrentPath())}},{text:"ru",action:function(){p.currentLocale=1,r.setCurrentPath(r.getCurrentPath())}}]};this.sidebar.setData(e)}},{key:"viewLevels",value:function(){this.levelsListView.setData({levelsList:X.getAll()}),this.currentView=this.levelsListView.render(),this.topBar.setData({title:"".concat(p.getLocale("levelsTitle"),".")}),this.generateSidebarData()}},{key:"viewSettings",value:function(){this.currentView=this.settingsView.render(),this.topBar.setData({title:"".concat(p.getLocale("settingsTitle"),".")}),this.generateSidebarData()}},{key:"viewScore",value:function(){this.levelsListView.setData({levelsList:X.getAll()}),this.currentView=this.scoreView.render(),this.topBar.setData({title:"".concat(p.getLocale("scoreTitle"),".")}),this.generateSidebarData()}},{key:"viewAbout",value:function(){this.currentView=this.aboutView.render(),this.topBar.setData({title:"".concat(p.getLocale("aboutTitle"),".")}),this.generateSidebarData()}},{key:"loading",value:function(){this.currentView=this.loadingView.render(),this.page.append(this.currentView)}},{key:"resolve",value:function(e){this.parentElement.innerHTML="",this.parentElement.append(this.rootEl),this.page.innerHTML="";var t=!1;switch(e.slice(1)){case"levels":this.viewLevels();break;case"settings":this.viewSettings();break;case"about":this.viewAbout();break;case"score":this.viewScore();break;case"loading":this.loading(),t=!0}t||(this.page.append(this.topBarEl),this.page.append(this.currentView),this.sidebar.hide())}}])&&Z(t.prototype,n),a&&Z(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function te(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var ne=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rootEl=document.createElement("div"),this.rootEl.classList.add("questions-numbers-list")}var t,n,a;return t=e,(n=[{key:"setData",value:function(e){var t=this;this.rootEl.innerHTML="",e.getQuestions().forEach((function(e,n,a){var i=document.createElement("div");i.classList.add("questions-numbers-list__item");var r=document.createElement("p");r.innerText=e.getNumber(),e.getUserAnswer()?e.getIsUserAnswerCorrect()?i.classList.add("questions-numbers-list__item_correct"):i.classList.add("questions-numbers-list__item_incorrect"):!(a[n-1]&&a[n-1].userAnswer||0===n)||a[n+1]&&a[n+1].userAnswer||i.classList.add("questions-numbers-list__item_active"),i.append(r),t.rootEl.append(i)}))}},{key:"render",value:function(){return this.rootEl}}])&&te(t.prototype,n),a&&te(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ae(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var ie=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rootEl=document.createElement("div"),this.rootEl.classList.add("overlay"),this.rootEl.classList.add("overlay_blur"),this.buttonSelect=document.createElement("button"),this.buttonSelect.classList.add("variant-popup__button"),this.buttonSelect.classList.add("variant-popup__button_select"),this.buttonSelect.textContent=p.getLocale("gameSelectTitle"),this.buttonCancel=document.createElement("button"),this.buttonCancel.classList.add("variant-popup__button"),this.buttonCancel.classList.add("variant-popup__button_cancel"),this.buttonCancel.textContent=p.getLocale("gameCancelTitle"),this.buttonCancel.onclick=function(){return t.hide()},this.variantButtons=document.createElement("div"),this.variantButtons.classList.add("variant-popup__buttons"),this.variantButtons.append(this.buttonCancel),this.variantButtons.append(this.buttonSelect),this.downloadButton=document.createElement("button"),this.downloadButton.classList.add("variant-popup__download-button")}var t,n,a;return t=e,(n=[{key:"setData",value:function(e){var t=this,n=e.answer,a=e.question,i=e.questionPopup,r=document.createElement("div");r.classList.add("variant-popup");var o=document.createElement("div");o.classList.add("variant-popup__image");var s=document.createElement("img");s.src=n.getImageSrc(),s.alt="variant",o.append(s),o.append(this.downloadButton),r.append(o),r.append(this.variantButtons),this.rootEl.innerHTML="",this.rootEl.append(r),this.buttonSelect.onclick=function(){t.hide(),i.setData({question:a,answer:n}),i.show()}}},{key:"hide",value:function(){this.rootEl.classList.add("overlay_hidden")}},{key:"show",value:function(){this.rootEl.classList.remove("overlay_hidden")}},{key:"render",value:function(){return this.rootEl}}])&&ae(t.prototype,n),a&&ae(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function re(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var oe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rootEl=document.createElement("div"),this.rootEl.classList.add("overlay"),this.rootEl.classList.add("overlay_blur"),this.popupContainer=document.createElement("div"),this.popupContainer.classList.add("question-popup"),this.buttonNext=document.createElement("button"),this.buttonNext.classList.add("question-popup__button"),this.rootEl.append(this.popupContainer)}var t,n,a;return t=e,(n=[{key:"setData",value:function(e){var t=e.answer,n=e.question,a=document.createElement("div");a.classList.add("question-popup__result"),this.buttonNext.textContent=p.getLocale("gameNextButtonTitle");var i=document.createElement("div");if(i.classList.add("question-popup__result-description"),n.getCorrectAnswerId()===t.getId()){a.innerText=p.getLocale("gameAnswerCorrect");var r=document.createElement("div");r.classList.add("question-popup__desc-pair"),r.innerText=p.getLocale("gamePictureNameTitle");var o=document.createElement("p");o.innerText='"'.concat(t.getName()[p.getLocale("localeName")],'"'),r.append(o);var s=document.createElement("div");s.classList.add("question-popup__desc-pair"),s.innerText=p.getLocale("gameMadeByTitle");var l=document.createElement("p");l.innerText=t.getAuthor()[p.getLocale("localeName")],s.append(l);var u=document.createElement("div");u.classList.add("question-popup__desc-pair"),u.innerText=p.getLocale("gameYearTitle");var c=document.createElement("p");c.innerText=t.getYear(),u.append(c),i.append(r),i.append(s),i.append(u),a.classList.add("question-popup__result_correct")}else a.innerText=p.getLocale("gameAnswerIncorrect"),a.classList.add("question-popup__result_incorrect");this.popupContainer.innerHTML="",this.popupContainer.append(a),this.popupContainer.append(i),this.popupContainer.append(this.buttonNext)}},{key:"hide",value:function(){this.rootEl.classList.add("overlay_hidden")}},{key:"show",value:function(){this.rootEl.classList.remove("overlay_hidden")}},{key:"render",value:function(){return this.rootEl}}])&&re(t.prototype,n),a&&re(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function se(e){return function(e){if(Array.isArray(e))return le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return le(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ue(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var ce=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rootEl=document.createElement("div"),this.rootEl.classList.add("question-card")}var t,n,a;return t=e,(n=[{key:"setData",value:function(e){var t,n,a=e.question,i=function(e){for(var t=se(e),n=t.length-1;n>0;n-=1){var a=Math.floor(Math.random()*(n+1)),i=t[n];t[n]=t[a],t[a]=i}return t};if(a.getQuestionType()===Q.QuestionTypes.WhoIs){this.rootEl.classList.add("question-whois");var o=document.createElement("div");o.classList.add("question-card__question");var s=document.createElement("div");s.classList.add("question-card__image");var l=document.createElement("img");l.src=a.getImageSrc(),l.alt=p.getLocale("gameQuestionType1");var u=document.createElement("div");u.classList.add("question-card__title"),u.innerText=p.getLocale("gameQuestionType1");var c=document.createElement("div");c.classList.add("question-card_answers-grid"),i((t=a.getAnswers(),n=e,t.map((function(e){var t=n.questionPopup,a=document.createElement("div");return a.classList.add("question-card_answer"),a.innerText=e.getAuthor()[p.getLocale("localeName")],a.onclick=function(){t.setData({answer:e,question:n.question}),t.show()},a})))).forEach((function(e){return c.append(e)})),s.append(l),o.append(s),o.append(u),this.rootEl.append(o),this.rootEl.append(c)}else if(a.getQuestionType()===Q.QuestionTypes.WhichIs){this.rootEl.classList.add("question-which");var d=document.createElement("div");d.classList.add("question-which_answers-grid");var h=function(e,t){return e.map((function(e){var n=t.variantPopup,a=document.createElement("div");a.classList.add("question-which_answer");var i=document.createElement("img");return i.alt=p.getLocale("gameQuestionType2"),i.src=e.getImageSrc(),a.onclick=function(){n.setData({answer:e,question:t.question,questionPopup:t.questionPopup}),n.show()},a.append(i),a}))}(a.getAnswers(),e);i(h).forEach((function(e){return d.append(e)}));var f=document.createElement("div");f.classList.add("question-which__question");var v=document.createElement("div");v.classList.add("question-which__title");var m=a.getAnswers().filter((function(e){return e.getId()===a.getCorrectAnswerId()}))[0];v.innerHTML="".concat(p.getLocale("gameQuestionType2"),"<b>").concat(m.getAuthor()[p.getLocale("localeName")],"?</b>"),f.append(v),this.rootEl.append(d),this.rootEl.append(f)}e.questionPopup.buttonNext.onclick=function(){if(e.questionPopup.hide(),a.getNumber()<q.getQuestionsPerLevel()){var t="/game/level/".concat(a.getLevelId(),"/question/").concat(parseInt(a.getNumber(),10)+1);r.setCurrentPath(t)}}}},{key:"hide",value:function(){this.rootEl.classList.add("question-card_hidden")}},{key:"setActive",value:function(){this.rootEl.classList.add("question-card_active")}},{key:"render",value:function(){return this.rootEl}}])&&ue(t.prototype,n),a&&ue(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function de(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var he=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rootEl=document.createElement("div"),this.rootEl.classList.add("question-cards-container"),this.rootEl.innerText="Questions here"}var t,n,a;return t=e,(n=[{key:"setData",value:function(e){this.rootEl.innerHTML="";var t=new ce,n=e.level.getQuestions().filter((function(t){return t.getNumber()===parseInt(e.questionNumber,10)}))[0];t.setData({question:n,variantPopup:e.variantPopup,questionPopup:e.questionPopup}),this.rootEl.appendChild(t.render())}},{key:"hide",value:function(){this.rootEl.classList.remove("game-question-page_hidden")}},{key:"render",value:function(){return this.rootEl}}])&&de(t.prototype,n),a&&de(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function fe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var pe=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parentElement=t,this.rootEl=document.createElement("div"),this.rootEl.classList.add("container"),this.questionCardsContainer=new he,this.gameQuestionsPage=document.createElement("div"),this.gameQuestionsPage.classList.add("game-question-page"),this.headerContainer=document.createElement("div"),this.headerContainer.classList.add("header-container"),this.topBar=new d,this.topBar.setData({title:"".concat(p.getLocale("levelTitle")," 0"),isSmall:!0}),this.sidebar=new u,this.generateSidebarData(),this.sidebar.hide(),this.variantPopup=new ie,this.variantPopup.hide(),this.questionPopup=new oe,this.questionPopup.hide(),this.questionsNumbersList=new ne,this.headerContainer.append(this.topBar.render()),this.headerContainer.append(this.questionsNumbersList.render()),this.gameQuestionsPage.append(this.headerContainer),this.gameQuestionsPage.append(this.questionCardsContainer.render()),this.gameQuestionsPage.append(this.variantPopup.render()),this.gameQuestionsPage.append(this.questionPopup.render()),this.rootEl.append(this.sidebar.render()),this.rootEl.append(this.gameQuestionsPage),this.sidebar.buttonClose.onclick=function(){n.sidebar.hide()},this.topBar.menuButton.onclick=function(){n.sidebar.show()}}var t,n,a;return t=e,(n=[{key:"generateSidebarData",value:function(){var e={separatorText:p.getLocale("sidebarMotto"),menu:[{text:"[".concat(p.getLocale("gamePaused"),"]"),action:""},{text:p.getLocale("levelsTitle"),action:function(){r.setCurrentPath("/main/levels")}}],fastLangSw:[{text:"eng",action:function(){p.currentLocale=0,r.setCurrentPath(r.getCurrentPath())}},{text:"ru",action:function(){p.currentLocale=1,r.setCurrentPath(r.getCurrentPath())}}]};this.sidebar.setData(e)}},{key:"showQuestion",value:function(e,t){t.getIsLocked()||(this.questionsNumbersList.setData(t),this.topBar.setData({title:"".concat(p.getLocale("levelTitle")," ").concat(t.getId()),isSmall:!0}),this.questionCardsContainer.setData({level:t,variantPopup:this.variantPopup,questionPopup:this.questionPopup,questionNumber:e}))}},{key:"resolve",value:function(e){var t=e.slice(1).split("/");"level"===t[0]&&(4===t.length&&"question"===t[2]?this.showQuestion(t[3],X.getById(t[1])):2===t.length&&r.setCurrentPath("/game/level/".concat(t[1],"/question/1"))),this.generateSidebarData(),this.parentElement.innerHTML="",this.parentElement.append(this.rootEl),this.sidebar.hide()}}])&&fe(t.prototype,n),a&&fe(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ve(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.className=t,this.rootEl=document.getElementsByClassName(t)[0],this.userSettings=new n,this.router=new s,this.mainController=new ee(this.rootEl),this.gameController=new pe(this.rootEl)}var t,a,i;return t=e,(a=[{key:"run",value:function(){this.router.addRoute("/main",this.mainController),this.router.addRoute("/game",this.gameController),D.isNotEmpty()?r.getRealCurrentPath()&&""!==r.getRealCurrentPath()?r.setCurrentPath(r.getRealCurrentPath()):r.setCurrentPath("/main/levels"):fetch(q.getDefaultStaticJsonSrcPath()).then((function(e){return e.json()})).then((function(e){D.srcData=e,r.setCurrentPath("/main/levels")}))}}])&&ve(t.prototype,a),i&&ve(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}())("app").run()}();